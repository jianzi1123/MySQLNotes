

1.

```mysql
CREATE TABLE admin(
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(15) NOT NULL,
pwd VARCHAR(25) NOT NULL
);
DELIMITER //
CREATE PROCEDURE insert_user(IN USER VARCHAR(15), IN pwd VARCHAR(20))
BEGIN
	INSERT INTO ADMIN(user_name, pwd)
	VALUES(USER, pwd);
END//
DELIMITER ;

CALL insert_user('Tom', 'abc123');
```

2.

```mysql
CREATE TABLE beauty(
id INT PRIMARY KEY AUTO_INCREMENT,
NAME VARCHAR(15) NOT NULL,
phone VARCHAR(15) UNIQUE,
birth DATE
);

DELIMITER //
CREATE PROCEDURE  get_phone(IN id INT, OUT NAME VARCHAR(15),  OUT phone VARCHAR(15))
BEGIN
	SELECT b.name, b.phone INTO NAME, phone
	FROM beauty b
	WHERE b.id = id;
END//
DELIMITER ;

CALL get_phone(1, @name, @phone);
SELECT @name, @phone
```

3\

```mysql
DELIMITER //
CREATE PROCEDURE  date_diff(IN birth1 DATE, IN birth2 DATE, OUT sum_date INT)
BEGIN
	SELECT DATEDIFF(birth1, birth2) INTO sum_date;
END//
DELIMITER ;

SET @birth1 = '1992-09-08';
SET @birth2 = '1992-10-30';
CALL date_diff(@birth1, @birth2, @sum_date);
SELECT @sum_date;
```

4\

```mysql
DELIMITER //
CREATE PROCEDURE  format_date(IN my_date DATE, OUT str_date VARCHAR(15))
BEGIN
	SELECT DATE_FORMAT(my_date, '%y年%m月%d日') INTO str_date;
END //
DELIMITER ;

CALL format_date(CURDATE(), @str_name);
SELECT @str_name;

```

5\

```mysql
DELIMITER //
CREATE PROCEDURE  add_double(INOUT a INT, INOUT b INT)
BEGIN
	SET a = a * 2;
	SET b = b * 2;
END //
DELIMITER;
SET @a = 3, @b = 5;
CALL add_double(@a, @b);
SELECT @a, @b;
```

6\

```mysql
# 删除
DROP PROCEDURE IF EXISTS beauty_limit;
# 查看
SHOW CREATE PROCEDURE beauty_limit;
SHOW PROCEDURE STATUS LIKE 'add_%';
```

7\

```mysql
DELIMITER //
CREATE FUNCTION get_count()
RETURNS INT
DETERMINISTIC
CONTAINS SQL
READS SQL DATA
BEGIN
	RETURN (SELECT COUNT(*) FROM employees );
END //
DELIMITER ;

SELECT get_count();

```

8\

```mysql
DELIMITER //
CREATE FUNCTION ename_salary(emp_name VARCHAR(15))
RETURNS DOUBLE

BEGIN
	RETURN (SELECT salary FROM employees WHERE last_name = emp_name);
END //
DELIMITER ;

SELECT ename_salary('Abel');
```

9\

```mysql

```

